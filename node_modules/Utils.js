class Utils {
    constructor() {
        this.competitionsByCountry = {
            "EN": [
                "PL",
                "ELC",
                "EL1",
                "EL2"
            ],
            "NL": [
                "DED"
            ],
            "FR": [
                "FL1",
                "FL2"
            ],
            "DE": [
                "BL1",
                "BL2",
                "DFB"
            ],
            "ES": [
                "PPL",
                "PD"
            ],
            "IT": [
                "SA",
                "SB"
            ],
            "EU": [
                "CL"
            ],
            "AU": [
                "AAL"
            ]


        }
        
    }
    
    getCompetitionsByCountry(country_id) {
        return (typeof this.competitionsByCountry[country_id] == "undefined") ? -1 : this.competitionsByCountry[country_id];
    }
    
    generateRequest(params) {
        let url = "http://api.football-data.org/v1";
        
        switch(params.request_type) {
            case "competitions": 
                url += "/competitions";
                (typeof params.season !== "undefined") ? url += `?season=${params.season}` : ""; 
            break;
            case "results":
                url += `/competitions/${params.competition_id}/fixtures`;
                (typeof params.matchday !== "undefined") ? url += `?matchday=${params.matchday}` : ""; 
            break;
            case "ranking":
                url += `/competitions/${params.competition_id}/leagueTable`;
                (typeof params.matchday !== "undefined") ? url += `?matchday=${params.matchday}` : ""; 
            break;
            case "teams_in_championship":
                url += `/competitions/${params.competition_id}/teams`;
            break;
            case "team_roster": 
                url += `/teams/${params.team_id}/players`;
            break;
            case "team_info": 
                url += `/teams/${params.team_id}`;
            break;     
        }
        
        return url;
    }
    
    getCountryList() {
        return [{
                "id": "EN",
                "name": "Angleterre"
            },
            {
                "id": "NL",
                "name": "Pays-Bas"
            },
            {
                "id": "FR",
                "name": "France"
            },
            {
                "id": "DE",
                "name": "Allemagne"

            },

            {
                "id": "ES",
                "name": "Espagne"
            },
            {
                "id": "IT",
                "name": "Italie"
            },
            {
                "id": "EU",
                "name": "Europe"
            },
            {
                "id": "AU",
                "name": "Australie"
            }
            
               ];
    }
}


module.exports = Utils;